{"version":3,"sources":["webpack:///src/views/mobile/dashboard-pages/src/views/mobile/dashboard-pages/admin.vue"],"names":[],"mappings":"AA0UA,OACA,qCACA,CACA,YAEA,QACA","file":"chunk-4ca905c4.a5e79eeb.css","sourcesContent":["<template>\n  <section class=\"bg-white p-4 dashboard-admin-page h-min-screen mt-12\">\n    <button\n      :class=\" loading ? 'icon-loading' : '' \"\n      class=\"z-10 fas fa-sync-alt text-gray-700 fixed right-0 top-0 z-20 px-4 py-3 leading-none mt-px focus:outline-none\"\n      @click.prevent.stop=\"assignUserData\"\n    />\n    <button\n      class=\"goTop transition-slow block fixed h-10 opacity-0 outline-none rounded-full w-10 focus:outline-none\n                   border border-solid border-gray-700 bg-white right-0 bottom-0 mr-3 mb-3\"\n      :class=\"showBtn ? 'opacity-100 ':'opacity-0'\"\n      @click=\"topFunction()\"\n    >\n      <i aria-hidden=\"true\" class=\"fa fa-angle-up text-gray-700 text-2xl\" />\n    </button>\n    <section class=\"bg-white px-1 pt-6 pb-8 border-b border-gray-200\">\n      <div\n        class=\"appearance-none bg-gray-100 block border border-gray-400 focus:bg-white focus:border-gray-500\n        focus:outline-none leading-tight mb-3 p-2 py-2 rounded text-gray-600 w-full\"\n      >\n        <button class=\"focus:outline-none outline-none text-gray-600\">\n          <i class=\"fas fa-search\" />\n        </button>\n        <input\n          id=\"article-search-input\"\n          v-model=\"searchInput\"\n          :autofocus=\"false\"\n          :autofocus-time=\"500\"\n          placeholder=\"Search User by Name\"\n          class=\"bg-gray-100 pl-3 text-gray-700 w-5/6\"\n        >\n      </div>\n\n      <div class=\"flex text-gray-600 justify-center text-sm\">\n        <div class=\"flex-1 relative mr-1\">\n          <select\n            v-model=\"typeFilter\"\n            class=\"block\n            appearance-none\n            w-full\n            bg-gray-100\n            border\n            border-gray-400\n            hover:border-gray-500\n            px-4\n            py-2\n            pr-8\n            rounded\n            leading-tight\n            focus:outline-none\"\n          >\n            <option value=\"\">\n              Filter by Type - ALL\n            </option>\n            <option value=\"voc\">\n              Type VOS\n            </option>\n            <option value=\"vod\">\n              Type VOD\n            </option>\n          </select>\n          <div class=\"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700\">\n            <svg class=\"fill-current h-4 w-4\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\"><path d=\"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z\" /></svg>\n          </div>\n        </div>\n        <div class=\"flex-1 relative ml-1\">\n          <select\n            v-model=\"statusFilter\"\n            class=\"block\n            appearance-none\n            w-full\n            bg-gray-100\n            border\n            border-gray-400\n            hover:border-gray-500\n            px-4\n            py-2\n            pr-8\n            rounded\n            leading-tight\n            focus:outline-none\"\n          >\n            <option value=\"\">\n              Filter by Status\n            </option>\n            <option value=\"0\">\n              Active User\n            </option>\n            <option value=\"1\">\n              In-Active User\n            </option>\n          </select>\n          <div class=\"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700\">\n            <svg class=\"fill-current h-4 w-4\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\"><path d=\"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z\" /></svg>\n          </div>\n        </div>\n      </div>\n      <div\n        v-if=\"searchInput || typeFilter || statusFilter \"\n        class=\"mx-5 mt-3 text-gray-600\"\n      >\n        <p class=\"mb-1\">\n          Filtering by:\n        </p>\n        <span v-if=\"searchInput\" class=\"text-gray-600\">\n          <label class=\"border border-gray-400 mb-2 bg-gray-300 inline-block px-2 mr-2 pointer rounded w-full break-words\">\n            Filter query: {{ searchInput }}\n          </label>\n        </span>\n        <span v-if=\"typeFilter\" class=\"text-gray-600\">\n          <label class=\"border border-gray-400 mb-2 bg-gray-300 inline-block px-2 mr-2 pointer rounded w-full break-words\">\n            Account Type: {{ typeFilter }}\n          </label>\n        </span>\n        <span v-if=\"statusFilter\" class=\"text-gray-600\">\n          <label class=\"border border-gray-400 mb-2 bg-gray-300 inline-block px-2 mr-2 pointer rounded w-full break-words\">\n            Status: {{ parseInt(statusFilter, 10)?'In-Active':'Active' }}\n          </label>\n        </span>\n        <!-- <label class=\"block flex items-center\"><input v-model=\"filterAccountsInRed\" class=\"mr-2\" type=\"checkbox\">Show all accounts in red</label>\n          <label class=\"block flex items-center\"><input class=\"mr-2\" type=\"checkbox\">Show red accounts in VOD only</label>\n          <label class=\"block flex items-center\"><input class=\"mr-2\" type=\"checkbox\">Show red accounts in VOD only</label> -->\n      </div>\n      <button\n        v-if=\" searchInput || statusFilter || typeFilter\"\n        class=\"bg-red-500 text-white px-2 rounded ml-5\"\n        @click.prevent.stop=\"resetFilters\"\n      >\n        Reset all filters\n      </button>\n    </section>\n\n    <p class=\"bg-gray-200 flex items-center justify-between my-3 px-5 py-3 text-gray-700 text-sm\">\n      Showing accounts: {{ filterUser ? filterUser.length : 0 }}\n      <router-link to=\"/dashboard/admin/user/addNewUser\" class=\"border-2 border-gray-500 rounded px-2 text-gray-600\">\n        Add user\n      </router-link>\n      <!-- Added Edit Button -->\n      <!-- <router-link :to=`/dashboard/admin/user/edit/${user.id}` class=\"border-2 border-gray-500 rounded px-2 text-gray-600\">\n        Edit user\n      </router-link> -->\n    </p>\n\n    <section class=\"bg-white\">\n      <div\n        class=\"\n        border-b\n        border-t\n        border-gray-200\n        py-2\n        px-1\n        block\n        flex\n        leading-normal\n        text-gray-600\n        text-sm\n        font-black\n        uppercase\n        justify-between\n         sticky\n         table-head\n         bg-white\n         text-lg\"\n      >\n        <p class=\"flex-2\">\n          User\n        </p>\n        <!-- <p class=\"flex-1 text-center\">\n          VOS\n        </p> -->\n        <p class=\"flex-1 text-center\">\n          Admin\n        </p>\n        <p class=\"flex-1 text-center\">\n          Status\n        </p>\n        <p class=\"flex-1 text-right\">\n          Company\n        </p>\n      </div>\n      <div v-if=\"loader\">\n        <UserLoader />\n      </div>\n      <div v-else>\n        <router-link\n          v-for=\"user in filterUser\"\n          :key=\"user.id\"\n          :to=\"`/dashboard/admin/user/edit/${user.id}?isEditMode=true`\"\n\n          class=\"\n          border-b\n          border-gray-200\n          py-1\n          w-full\n          block\n          flex\n          text-left\n          justify-between\n          pointer\n        \"\n        >\n          <!-- :to=\"`/dashboard/admin/user/edit/${user.id}?firstName=${user.firstName}\n        &lastName=${user.lastName}&ohrid=${user.ohrid}&isVOC=${user.isVOC}\n        &isVOD=${user.isVOD}&isAdmin=${user.isAdmin}&userId=${user.id}&isEditMode=true`\" -->\n          <div class=\"flex-2 leading-snug font-bold\">\n            <p>{{ user.firstName }} {{ user.lastName }}</p>\n            <ul class=\"flex py-1\">\n              <li v-if=\"user.isVOC\" class=\"border border-b-2 border-red-500 font-bold px-2 shadow-md rounded text-black text-red-600 text-xs\">\n                VOS\n              </li>\n              <li v-if=\"user.isVOD\" class=\"border border-b-2 border-blue-500 font-bold px-2 shadow-md rounded text-black text-blue-600 text-xs\">\n                VOD\n              </li>\n            </ul>\n          <!-- <ul class=\"tags\">\n  <li><a href=\"#\" class=\"tag\">VOC</a></li>\n</ul> -->\n          <!-- <p class=\"text-gray-700 text-sm\">\n            Vertical: Insurance\n          </p>\n          <p class=\"text-gray-700 text-sm\">\n            Type: Champion\n          </p> -->\n          </div>\n          <!-- <div class=\"no-text-wrap flex items-center justify-center flex-1\">\n          <i v-if=\"user.isVOC\" class=\"far fa-check-circle text-green-500 text-lg\" />\n          <i v-else class=\"far fa-times-circle text-red-500 text-lg\" />\n        </div> -->\n          <!-- <div class=\"no-text-wrap flex items-center justify-center flex-1\">\n          <i v-if=\"user.isVOD\" class=\"far fa-check-circle text-green-500 text-lg\" />\n          <i v-else class=\"far fa-times-circle text-red-500 text-lg\" />\n        </div> -->\n          <div class=\"no-text-wrap flex items-center justify-center flex-1\">\n            <i v-if=\"user.isAdmin\" class=\"far fa-check-circle text-green-500 text-lg\" />\n            <i v-else class=\"far fa-times-circle text-red-500 text-lg\" />\n          </div>\n          <div class=\"no-text-wrap flex items-center justify-center flex-1\">\n            <i v-if=\"!user.isHidden\" class=\"far fa-check-circle text-green-500 text-lg mx-4\" />\n            <i v-else class=\"far fa-times-circle text-red-500 text-lg mx-4\" />\n          </div>\n          <div class=\"no-text-wrap flex items-center justify-center flex-1\">\n            <span class=\"bg-gray-600 leading-normal rounded-full text-center text-white text-xl w-8\"> {{ user.companiesCount }} </span>\n          </div>\n        </router-link>\n      </div>\n    </section>\n  </section>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex';\nimport UserLoader from './loader/userLoader.vue';\n\nexport default {\n  name: 'Admin',\n  components: {\n    UserLoader,\n  },\n  props: {\n    user: {\n      type: Object,\n      default: () => {},\n    },\n  },\n  data() {\n    return {\n      query: '',\n      typeFilter: '',\n      statusFilter: '',\n      usersData: [],\n      showBtn: false,\n      loader: true,\n      loading: false,\n      searchInput: '',\n      falseVar: false,\n    };\n  },\n  computed: {\n    ...mapGetters(['users']),\n  },\n  watch: {\n    $route(currentVal) {\n      // console.log('current value : ', currentVal);\n      if (currentVal.name === 'Dashboard.Admin') {\n        this.falseVar = !this.falseVar;\n      }\n    },\n  },\n  mounted() {\n    this.assignUserData();\n    this.getUsers();\n\n    setTimeout(() => {\n      this.loader = false;\n    }, 1000);\n  },\n  beforeMount() {\n    window.addEventListener('scroll', this.scrollFunction);\n  },\n\n  beforeDestroy() {\n    window.removeEventListener('scroll', this.scrollFunction);\n  },\n\n  methods: {\n    ...mapActions(['getUsers']),\n\n    searchQueryUpdated(val) {\n      this.query = val;\n    },\n\n    resetFilters() {\n      this.searchInput = '';\n      this.query = '';\n      this.typeFilter = '';\n      this.statusFilter = '';\n    },\n\n    scrollFunction() {\n      this.showBtn = window.scrollY > 200;\n    },\n\n    topFunction() {\n      window.scrollTo({ top: 0, behavior: 'smooth' });\n    },\n  },\n};\n</script>\n<style>\n\n.goTop {\n    box-shadow: 0px 0px 10px 0px #00000069;\n}\n.table-head\n{\n  top:48px;\n}\n</style>\n"]}
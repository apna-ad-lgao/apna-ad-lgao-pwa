(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-da8a441e"],{"6da0":function(e,t,o){"use strict";o.r(t);var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("section",{staticClass:"dashboard-root-container lg:w-2/5 mx-auto",class:{"full-view":"Dashboard.Article.Detail"===e.$route.name," h-screen":"Dashboard.Search"===e.$route.name,"header-colapsed":!e.hideNavScroll,"footer-visible":e.footerVisible},attrs:{"data-route-name":e.routeName}},[o("transition",{attrs:{name:"fade"}},[e.$route.meta.showHeader?o("Header",{attrs:{user:e.user,"show-back":e.$route.meta.showBack||!1},on:{hideNavScroll:e.hideNavScrollFunc}}):e._e()],1),e.loading?o("div",{staticClass:"text-center m-10 pt-10"},[o("img",{staticClass:"mb-5 block mx-auto",attrs:{src:"/img/loader.gif",width:"40",alt:"Loader Gif"}}),o("p",{staticClass:"mx-auto leading-normal text-lg"},[e._v(" Fetching your information ")])]):e.error?o("div",{staticClass:"text-center h-screen flex items-center justify-center flex-col mx-4"},[o("p",{staticClass:"mx-auto leading-normal text-lg"},[e._v(" "+e._s(e.error)+" ")]),o("button",{staticClass:"bg-brand-color button hover:bg-red-600 leading-normal mb-12 mt-5 py-2 w-1/2 rounded text-white",on:{click:function(t){return t.preventDefault(),e.logout(t)}}},[e._v(" Logout ")])]):Object.keys(e.user).length?o("transition",{attrs:{name:"fade"}},[o("keep-alive",{attrs:{exclude:"BannerDetail"}},[o("router-view",{staticClass:"view main-cont",class:{"mt-12 pt-3":e.$route.meta.showHeader&&e.$route.meta.showBack,"footer-visible":e.footerVisible},attrs:{user:e.user},on:{showHeaderShadowEvent:e.showHeaderShadowEventHandler}})],1)],1):e._e()],1)},a=[],s=(o("b0c0"),o("b64b"),o("d3b7"),o("96cf"),o("1da1")),n=o("5530"),i=o("2f62"),c=o("f841"),l=o.n(c),u={name:"DashboardRoot",components:{Header:function(){return o.e("chunk-e0c89af6").then(o.bind(null,"71c2"))}},data:function(){return{error:"",loading:!1,hideNavScroll:!1,footerVisible:!1,showHeaderShadow:!1}},computed:Object(n["a"])({},Object(i["c"])(["viewScrollPos","user","users"]),{routeName:function(){var e=this;return this.$route.meta.saveScrollPos&&this.viewScrollPos[this.$route.name]&&setTimeout((function(){window.scrollTo(e.viewScrollPos[e.$route.name].x,e.viewScrollPos[e.$route.name].y)}),0),this.$route.name}}),beforeMount:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var o,r,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,e.$apollo.query({query:l.a});case 4:o=t.sent,r=o.data,a=r.user&&r.user[0]||{},e.user=a,!Object.keys(a).length&&a.isHidden&&(e.error="You do not have access to the application or your access has been revoked.\n          Please contact the administrator.\nCode: ".concat(Object.keys(a).length?1:0)),t.next=17;break;case 11:t.prev=11,t.t0=t["catch"](1),e.error="You do not have access to the application or your access has been revoked. Please try to refresh or contact the administrator.\nCode: ".concat(t.t0.message),console.warn(t.t0.message),s=Object(n["a"])({},t.t0),!s.networkError||401!==s.networkError.statusCode&&403!==s.networkError.statusCode||(e.$store.dispatch("addToastNotifications",{text:"Oops! You got logged out. Login again.",timer:4e3,type:"error"}),e.$store.dispatch("logout",e.$store.state.route.fullPath));case 17:e.loading=!1;case 18:case"end":return t.stop()}}),t,null,[[1,11]])})))()},mounted:function(){this.loading=!1,this.getUsers()},methods:Object(n["a"])({},Object(i["b"])(["logout","getUsers"]),{hideNavScrollFunc:function(e){this.hideNavScroll=e},showHeaderShadowEventHandler:function(e){this.showHeaderShadow=e}})},d=u,h=(o("e8f5"),o("2877")),m=Object(h["a"])(d,r,a,!1,null,null,null);t["default"]=m.exports},e8f5:function(e,t,o){"use strict";var r=o("f272"),a=o.n(r);a.a},f272:function(e,t,o){}}]);
//# sourceMappingURL=chunk-da8a441e.b0d8f4f8.js.map
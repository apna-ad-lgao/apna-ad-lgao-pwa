{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js","webpack:///./src/graphql/fetchAllVerticals.gql","webpack:///./src/views/desktop/dashboard-pages/download-report.vue?6fb0","webpack:///src/views/desktop/dashboard-pages/download-report.vue","webpack:///./src/views/desktop/dashboard-pages/download-report.vue?de19","webpack:///./src/views/desktop/dashboard-pages/download-report.vue"],"names":["_taggedTemplateLiteral","strings","raw","slice","Object","freeze","defineProperties","value","doc","loc","source","collectFragmentReferences","node","refs","kind","add","name","type","selectionSet","selections","forEach","selection","variableDefinitions","def","definitions","definitionRefs","Set","module","exports","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","directives","rawName","expression","ref","on","$event","$$selectedVal","Array","prototype","filter","call","target","options","o","selected","map","val","_value","vertical","multiple","onSelectVertical","domProps","_l","item","key","id","_s","company","companyId","_e","composing","fromDate","toDate","downloadReport","leave","staticRenderFns","components","props","user","default","data","time1","time2","verticalData","allCompanies","filterCompanies","showPopUp","loading","companyListEnable","userData","computed","mounted","fetchAllVertical","fetchAllCompanies","methods","$store","dispatch","text","timer","method","url","headers","common","Authorization","emailId","console","log","response","err","message","component"],"mappings":"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","file":"js/chunk-31902476.26fa1014.js","sourcesContent":["export default function _taggedTemplateLiteral(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n\n  return Object.freeze(Object.defineProperties(strings, {\n    raw: {\n      value: Object.freeze(raw)\n    }\n  }));\n}","\n    var doc = {\"kind\":\"Document\",\"definitions\":[{\"kind\":\"OperationDefinition\",\"operation\":\"query\",\"variableDefinitions\":[],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"fetchAllVerticals\"},\"arguments\":[],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"name\"},\"arguments\":[],\"directives\":[]}]}}]}}],\"loc\":{\"start\":0,\"end\":51}};\n    doc.loc.source = {\"body\":\"query {\\n  fetchAllVerticals {\\n    id\\n    name\\n  }\\n}\",\"name\":\"GraphQL request\",\"locationOffset\":{\"line\":1,\"column\":1}};\n  \n\n    var names = {};\n    function unique(defs) {\n      return defs.filter(\n        function(def) {\n          if (def.kind !== 'FragmentDefinition') return true;\n          var name = def.name.value\n          if (names[name]) {\n            return false;\n          } else {\n            names[name] = true;\n            return true;\n          }\n        }\n      )\n    }\n  \n\n    // Collect any fragment/type references from a node, adding them to the refs Set\n    function collectFragmentReferences(node, refs) {\n      if (node.kind === \"FragmentSpread\") {\n        refs.add(node.name.value);\n      } else if (node.kind === \"VariableDefinition\") {\n        var type = node.type;\n        if (type.kind === \"NamedType\") {\n          refs.add(type.name.value);\n        }\n      }\n\n      if (node.selectionSet) {\n        node.selectionSet.selections.forEach(function(selection) {\n          collectFragmentReferences(selection, refs);\n        });\n      }\n\n      if (node.variableDefinitions) {\n        node.variableDefinitions.forEach(function(def) {\n          collectFragmentReferences(def, refs);\n        });\n      }\n\n      if (node.definitions) {\n        node.definitions.forEach(function(def) {\n          collectFragmentReferences(def, refs);\n        });\n      }\n    }\n\n    var definitionRefs = {};\n    (function extractReferences() {\n      doc.definitions.forEach(function(def) {\n        if (def.name) {\n          var refs = new Set();\n          collectFragmentReferences(def, refs);\n          definitionRefs[def.name.value] = refs;\n        }\n      });\n    })();\n\n    function findOperation(doc, name) {\n      for (var i = 0; i < doc.definitions.length; i++) {\n        var element = doc.definitions[i];\n        if (element.name && element.name.value == name) {\n          return element;\n        }\n      }\n    }\n\n    function oneQuery(doc, operationName) {\n      // Copy the DocumentNode, but clear out the definitions\n      var newDoc = {\n        kind: doc.kind,\n        definitions: [findOperation(doc, operationName)]\n      };\n      if (doc.hasOwnProperty(\"loc\")) {\n        newDoc.loc = doc.loc;\n      }\n\n      // Now, for the operation we're running, find any fragments referenced by\n      // it or the fragments it references\n      var opRefs = definitionRefs[operationName] || new Set();\n      var allRefs = new Set();\n      var newRefs = new Set();\n\n      // IE 11 doesn't support \"new Set(iterable)\", so we add the members of opRefs to newRefs one by one\n      opRefs.forEach(function(refName) {\n        newRefs.add(refName);\n      });\n\n      while (newRefs.size > 0) {\n        var prevRefs = newRefs;\n        newRefs = new Set();\n\n        prevRefs.forEach(function(refName) {\n          if (!allRefs.has(refName)) {\n            allRefs.add(refName);\n            var childRefs = definitionRefs[refName] || new Set();\n            childRefs.forEach(function(childRef) {\n              newRefs.add(childRef);\n            });\n          }\n        });\n      }\n\n      allRefs.forEach(function(refName) {\n        var op = findOperation(doc, refName);\n        if (op) {\n          newDoc.definitions.push(op);\n        }\n      });\n\n      return newDoc;\n    }\n\n    module.exports = doc;\n    \n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"bg-white h-min-screen\"},[_c('img',{staticClass:\"mt-12 w-full\",attrs:{\"src\":\"/img/backgrounds/pulse_dashboard.png\",\"alt\":\"Pulse Dashboard\"}}),_c('h1',{staticClass:\"bg-brand-color border-t-0 border border-dark-gray-700 font-bold py-1 rounded-b-lg text-center text-dark-gray-900 text-lg tracking-wide w-full\"},[_vm._v(\" Download Report \")]),_c('section',{staticClass:\"m-4 sm:mx-0\"},[_c('div',{staticClass:\"border border-blue-800 p-2 flex flex-col bg-dark-gray-200 rounded-lg shadow\"},[_c('div',{staticClass:\"relative\"},[_c('p',{staticClass:\"text-center font-semibold text-blue-900\"},[_vm._v(\" Company Vertical \")]),_c('div',{staticClass:\"mx-auto my-2 mb-5 relative w-2/3\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.vertical),expression:\"vertical\"}],ref:\"user-role-select\",staticClass:\"block appearance-none w-full text-blue-700 bg-gray-100 border\\n          border-blue-800 hover:border-blue-900 px-4 py-1 rounded leading-tight focus:outline-none text-sm font-bold\",attrs:{\"id\":\"user-role-select\"},on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.vertical=$event.target.multiple ? $$selectedVal : $$selectedVal[0]},_vm.onSelectVertical]}},[_c('option',{domProps:{\"value\":0}},[_vm._v(\" --- \")]),_vm._l((_vm.verticalData),function(item){return _c('option',{key:item.id,domProps:{\"value\":item.id}},[_vm._v(\" \"+_vm._s(item.name)+\" \")])})],2),_c('div',{staticClass:\"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-600\"},[_c('svg',{staticClass:\"fill-current h-4 w-4\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 20 20\"}},[_c('path',{attrs:{\"d\":\"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z\"}})])])])]),(_vm.companyListEnable)?_c('div',{staticClass:\"relative\"},[_c('p',{staticClass:\"text-center font-semibold text-blue-900\"},[_vm._v(\" Company \")]),_c('div',{staticClass:\"mx-auto my-2 mb-5 relative w-2/3\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.company),expression:\"company\"}],ref:\"user-role-select\",staticClass:\"block appearance-none w-full text-blue-700 bg-gray-100 border\\n          border-blue-800 hover:border-blue-900 px-4 py-1 rounded leading-tight\\n          focus:outline-none text-sm font-bold \",attrs:{\"id\":\"user-role-select\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.company=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{domProps:{\"value\":0}},[_vm._v(\" --- \")]),_vm._l((_vm.filterCompanies),function(item){return _c('option',{key:item.companyId,domProps:{\"value\":item.companyId}},[_vm._v(\" \"+_vm._s(item.company)+\" \")])})],2),_c('div',{staticClass:\"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-600\"},[_c('svg',{staticClass:\"fill-current h-4 w-4\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 20 20\"}},[_c('path',{attrs:{\"d\":\"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z\"}})])])])]):_vm._e(),_c('p',{staticClass:\"text-center font-semibold text-blue-900\"},[_vm._v(\" From Date \")]),_c('div',{staticClass:\"mx-auto my-2 mb-5 relative w-2/3\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.fromDate),expression:\"fromDate\"}],staticClass:\"block appearance-none w-full text-blue-700 bg-gray-100 border\\n          border-blue-800 hover:border-blue-900 px-4 py-1 rounded leading-tight focus:outline-none text-sm font-bold\",attrs:{\"type\":\"date\"},domProps:{\"value\":(_vm.fromDate)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.fromDate=$event.target.value}}})]),_c('p',{staticClass:\"text-center font-semibold text-blue-900\"},[_vm._v(\" To Date \")]),_c('div',{staticClass:\"mx-auto my-2 mb-5 relative w-2/3\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.toDate),expression:\"toDate\"}],staticClass:\"block appearance-none w-full text-blue-700 bg-gray-100 border border-blue-800\\n           hover:border-blue-900 px-4 py-1 rounded leading-tight focus:outline-none text-sm font-bold\",attrs:{\"type\":\"date\"},domProps:{\"value\":(_vm.toDate)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.toDate=$event.target.value}}})]),_c('button',{staticClass:\"bg-brand-darkest-blue-color py-2 font-bold tracking-widest rounded text-white w-full\",on:{\"click\":_vm.downloadReport}},[_vm._v(\" Download Report \"),_c('ring-loader',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loading),expression:\"loading\"}]})],1)])]),[_c('transition',{attrs:{\"name\":\"bounce\"}},[(_vm.showPopUp)?_c('div',{staticClass:\"modal fixed w-full h-full top-0 left-0 flex items-center justify-center z-20\"},[_c('div',{staticClass:\"modal-overlay absolute w-full h-full bg-gray-900 opacity-50\"}),_c('div',{staticClass:\"bg-white flex flex-col h-64 modal-container mx-4 overflow-y-auto relative rounded shadow-lg lg:w-1/3 z-10\"},[_c('h3',{staticClass:\"font-bold mx-auto my-6 px-2 py-6 text-black text-xl\"},[_vm._v(\" Report has been sent to your mail Id. \")]),_c('div',{staticClass:\"flex justify-around\"},[_c('button',{staticClass:\"border-2 border-gray-500 font-bold px-3 rounded text-gray-500 text-lg\",on:{\"click\":function($event){return _vm.leave();}}},[_vm._v(\" OK \")])])])]):_vm._e()])]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <section class=\"bg-white h-min-screen\">\n    <img class=\"mt-12 w-full\" src=\"/img/backgrounds/pulse_dashboard.png\" alt=\"Pulse Dashboard\">\n    <h1\n      class=\"bg-brand-color border-t-0 border border-dark-gray-700 font-bold py-1 rounded-b-lg text-center text-dark-gray-900 text-lg tracking-wide w-full\"\n    >\n      Download Report\n    </h1>\n    <section class=\"m-4 sm:mx-0\">\n      <div class=\"border border-blue-800 p-2 flex flex-col bg-dark-gray-200 rounded-lg shadow\">\n        <div class=\"relative\">\n          <p class=\"text-center font-semibold text-blue-900\">\n            Company Vertical\n          </p>\n          <div class=\"mx-auto my-2 mb-5 relative w-2/3\">\n            <select\n              id=\"user-role-select\"\n              ref=\"user-role-select\"\n              v-model=\"vertical\"\n              class=\"block appearance-none w-full text-blue-700 bg-gray-100 border\n            border-blue-800 hover:border-blue-900 px-4 py-1 rounded leading-tight focus:outline-none text-sm font-bold\"\n              @change=\"onSelectVertical\"\n            >\n              <option :value=\"0\">\n                ---\n              </option>\n              <option\n                v-for=\"item in verticalData\"\n                :key=\"item.id\"\n                :value=\"item.id\"\n              >\n                {{ item.name }}\n              </option>\n            </select>\n            <div\n              class=\"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-600\"\n            >\n              <svg\n                class=\"fill-current h-4 w-4\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n                viewBox=\"0 0 20 20\"\n              >\n                <path d=\"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z\" />\n              </svg>\n            </div>\n          </div>\n        </div>\n        <div v-if=\"companyListEnable\" class=\"relative\">\n          <p class=\"text-center font-semibold text-blue-900\">\n            Company\n          </p>\n          <div class=\"mx-auto my-2 mb-5 relative w-2/3\">\n            <select\n              id=\"user-role-select\"\n              ref=\"user-role-select\"\n              v-model=\"company\"\n              class=\"block appearance-none w-full text-blue-700 bg-gray-100 border\n            border-blue-800 hover:border-blue-900 px-4 py-1 rounded leading-tight\n            focus:outline-none text-sm font-bold \"\n            >\n              <option :value=\"0\">\n                ---\n              </option>\n              <option\n                v-for=\"item in filterCompanies\"\n                :key=\"item.companyId\"\n                :value=\"item.companyId\"\n              >\n                {{ item.company }}\n              </option>\n            </select>\n            <div\n              class=\"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-600\"\n            >\n              <svg\n                class=\"fill-current h-4 w-4\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n                viewBox=\"0 0 20 20\"\n              >\n                <path d=\"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z\" />\n              </svg>\n            </div>\n          </div>\n        </div>\n        <p class=\"text-center font-semibold text-blue-900\">\n          From Date\n        </p>\n        <div class=\"mx-auto my-2 mb-5 relative w-2/3\">\n          <input\n            v-model=\"fromDate\"\n            class=\"block appearance-none w-full text-blue-700 bg-gray-100 border\n            border-blue-800 hover:border-blue-900 px-4 py-1 rounded leading-tight focus:outline-none text-sm font-bold\"\n            type=\"date\"\n          >\n        </div>\n        <p class=\"text-center font-semibold text-blue-900\">\n          To Date\n        </p>\n        <div class=\"mx-auto my-2 mb-5 relative w-2/3\">\n          <input\n            v-model=\"toDate\"\n            class=\"block appearance-none w-full text-blue-700 bg-gray-100 border border-blue-800\n             hover:border-blue-900 px-4 py-1 rounded leading-tight focus:outline-none text-sm font-bold\"\n            type=\"date\"\n          >\n        </div>\n        <button\n          class=\"bg-brand-darkest-blue-color py-2 font-bold tracking-widest rounded text-white w-full\"\n          @click=\"downloadReport\"\n        >\n          Download Report\n          <ring-loader v-show=\"loading\" />\n        </button>\n      </div>\n    </section>\n    <template>\n      <transition name=\"bounce\">\n        <div\n          v-if=\"showPopUp\"\n          class=\"modal fixed w-full h-full top-0 left-0 flex items-center justify-center z-20\"\n        >\n          <div class=\"modal-overlay absolute w-full h-full bg-gray-900 opacity-50\" />\n\n          <div\n            class=\"bg-white flex flex-col h-64 modal-container mx-4 overflow-y-auto relative rounded shadow-lg lg:w-1/3 z-10\"\n          >\n            <h3\n              class=\"font-bold mx-auto my-6 px-2 py-6 text-black text-xl\"\n            >\n              Report has been sent to your mail Id.\n            </h3>\n            <div class=\"flex justify-around\">\n              <button\n                class=\"border-2 border-gray-500 font-bold px-3 rounded text-gray-500 text-lg\"\n                @click=\"leave();\"\n              >\n                OK\n              </button>\n            </div>\n          </div>\n        </div>\n      </transition>\n    </template>\n  </section>\n</template>\n\n<script>\nimport Axios from 'axios';\nimport dayJs from 'dayjs';\nimport gql from 'graphql-tag';\nimport GETALL_VERTICALS from '@/graphql/fetchAllVerticals.gql';\n\nexport default {\n  name: 'DownloadReport',\n  components: {},\n  props: {\n    user: {\n      type: Object,\n      default: () => {},\n    },\n  },\n  data() {\n    return {\n      fromDate: dayJs(new Date()).format('YYYY-MM-DD'),\n      toDate: dayJs(new Date()).format('YYYY-MM-DD'),\n      time1: ' 00:00:00',\n      time2: ' 23:59:59',\n      vertical: 0,\n      verticalData: [],\n      company: 0,\n      allCompanies: [],\n      filterCompanies: [],\n      showPopUp: false,\n      loading: false,\n      companyListEnable: false,\n      userData: '',\n    };\n  },\n  computed: {\n  },\n  mounted() {\n    this.fetchAllVertical();\n    this.fetchAllCompanies();\n  },\n  methods: {\n    async onSelectVertical() {\n      if (this.vertical > 0) {\n        this.filterCompanies = this.allCompanies.filter((company) => company.verticalId === this.vertical);\n        this.companyListEnable = true;\n      } else {\n        this.filterCompanies = [];\n        this.companyListEnable = false;\n        this.company = 0;\n      }\n    },\n    leave() {\n      this.showPopUp = false;\n    },\n    async fetchAllVertical() {\n      try {\n        const { data } = await this.$apollo.query({\n          query: GETALL_VERTICALS,\n          variables: {\n\n          },\n        });\n        this.verticalData = data.fetchAllVerticals;\n\n        console.log('TCL: onAccountSelect -> this.verticalData', this.verticalData);\n      } catch (error) {\n        console.log('vertical error -> ', error);\n      }\n      // this.verticalData = this.accountData.filter(ad  => ad.companyId === this.selectedAccount.companyId);\n    },\n    async fetchAllCompanies() {\n      // this.$apollo.queries.allUsers.refetch();\n      const { data } = await this.$apollo.query({\n        fetchPolicy: 'network-only',\n        query: gql`query {\n            allCompanies: getAllCompanyVerticals {\n              id\n              companyId\n              type\n              verticalId\n              company\n              vertical\n              isHidden\n          }\n        }`,\n      });\n      this.allCompanies = data.allCompanies;\n    },\n    downloadReport() {\n      if (this.fromDate === '') {\n        this.$store.dispatch('addToastNotifications', {\n          text: 'Select from Date !',\n          timer: 4000,\n          type: 'error',\n        });\n      } else if (this.toDate === '') {\n        this.$store.dispatch('addToastNotifications', {\n          text: 'Select to Date !',\n          timer: 4000,\n          type: 'error',\n        });\n      } else if (this.toDate < this.fromDate) {\n        this.$store.dispatch('addToastNotifications', {\n          text: 'Select From date greater than To date !',\n          timer: 4000,\n          type: 'error',\n        });\n      } else {\n        this.loading = true;\n        // delete Axios.defaults.headers.common.Authorization;\n        Axios({\n          method: 'POST',\n          url:\n              'https://prod-29.southindia.logic.azure.com:443/workflows/22138438481341d5aa17411b44e9a362/triggers/manual/paths/invoke?api-version=2016-10-01&sp=%2Ftriggers%2Fmanual%2Frun&sv=1.0&sig=_lZToBrpv0zu8fefEh4dLP-GjrvSCyPZDWmbewLHYHE',\n          headers: {\n            'Content-Type': 'application/json',\n            common: {\n              Authorization: '',\n            },\n          },\n          data: {\n            fromDate: this.fromDate + this.time1,\n            toDate: this.toDate + this.time2,\n            emailId: `${this.user.ohrid}@genpact.com`,\n            vertical: this.vertical,\n            company: this.company,\n          },\n        }).then((response) => {\n          this.loading = false;\n          console.log('response ========>', response);\n          this.$store.dispatch('addToastNotifications', {\n            text: 'Please check your mail for report.',\n            timer: 4000,\n            type: 'success',\n          });\n        }).catch((err) => {\n          this.loading = false;\n          this.$store.dispatch('addToastNotifications', {\n            text: err.message,\n            timer: 4000,\n            type: 'error',\n          });\n        });\n      }\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./download-report.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./download-report.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./download-report.vue?vue&type=template&id=68acbfc3&\"\nimport script from \"./download-report.vue?vue&type=script&lang=js&\"\nexport * from \"./download-report.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}
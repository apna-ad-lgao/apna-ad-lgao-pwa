{"version":3,"sources":["webpack:///./src/views/mobile/dashboard-pages/dashboard.vue?f833","webpack:///src/views/mobile/dashboard-pages/dashboard.vue","webpack:///./src/views/mobile/dashboard-pages/dashboard.vue?cfcb","webpack:///./src/views/mobile/dashboard-pages/dashboard.vue?abb4","webpack:///./src/views/mobile/dashboard-pages/dashboard.vue?3443"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","class","$route","name","hideNavScroll","footerVisible","attrs","routeName","meta","user","showBack","on","hideNavScrollFunc","_e","_v","_s","error","$event","preventDefault","logout","Object","keys","showHeader","showHeaderShadowEventHandler","staticRenderFns","components","Header","data","loading","showHeaderShadow","computed","saveScrollPos","viewScrollPos","setTimeout","window","scrollTo","mounted","getUsers","methods","e","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,UAAU,CAACE,YAAY,4CAA4CC,MAAM,CACxK,YAAiC,6BAApBP,EAAIQ,OAAOC,KACxB,YAAkC,qBAApBT,EAAIQ,OAAOC,KACzB,mBAAqBT,EAAIU,cACzB,iBAAkBV,EAAIW,eACtBC,MAAM,CAAC,kBAAkBZ,EAAIa,YAAY,CAACT,EAAG,aAAa,CAACQ,MAAM,CAAC,KAAO,SAAS,CAAEZ,EAAIQ,OAAOM,KAAe,WAAEV,EAAG,SAAS,CAACQ,MAAM,CAAC,KAAOZ,EAAIe,KAAK,YAAYf,EAAIQ,OAAOM,KAAKE,WAAY,GAAOC,GAAG,CAAC,cAAgBjB,EAAIkB,qBAAqBlB,EAAImB,MAAM,GAAInB,EAAW,QAAEI,EAAG,MAAM,CAACE,YAAY,0BAA0B,CAACF,EAAG,MAAM,CAACE,YAAY,qBAAqBM,MAAM,CAAC,IAAM,kBAAkB,MAAQ,KAAK,IAAM,gBAAgBR,EAAG,IAAI,CAACE,YAAY,kCAAkC,CAACN,EAAIoB,GAAG,mCAAoCpB,EAAS,MAAEI,EAAG,MAAM,CAACE,YAAY,uEAAuE,CAACF,EAAG,IAAI,CAACE,YAAY,kCAAkC,CAACN,EAAIoB,GAAG,IAAIpB,EAAIqB,GAAGrB,EAAIsB,OAAO,OAAOlB,EAAG,SAAS,CAACE,YAAY,iGAAiGW,GAAG,CAAC,MAAQ,SAASM,GAAgC,OAAxBA,EAAOC,iBAAwBxB,EAAIyB,OAAOF,MAAW,CAACvB,EAAIoB,GAAG,gBAAiBM,OAAOC,KAAK3B,EAAIe,MAAY,OAAEX,EAAG,aAAa,CAACQ,MAAM,CAAC,KAAO,SAAS,CAACR,EAAG,aAAa,CAACQ,MAAM,CAAC,QAAU,iBAAiB,CAACR,EAAG,cAAc,CAACE,YAAY,iBAAiBC,MAAM,CAAE,aAAeP,EAAIQ,OAAOM,KAAKc,YAAc5B,EAAIQ,OAAOM,KAAKE,SAAU,iBAAkBhB,EAAIW,eAAgBC,MAAM,CAAC,KAAOZ,EAAIe,MAAME,GAAG,CAAC,sBAAwBjB,EAAI6B,iCAAiC,IAAI,GAAG7B,EAAImB,MAAM,IAC7zCW,EAAkB,G,mGCoDtB,GACErB,KAAM,gBACNsB,WAAY,CACVC,OAAQ,WAAZ,yDAEEC,KALF,WAMI,MAAO,CACLX,MAAO,GACPY,SAAS,EACTxB,eAAe,EACfC,eAAe,EACfwB,kBAAkB,IAGtBC,SAAU,OAAZ,OAAY,CAAZ,GACA,iDADA,CAEIvB,UAFJ,WAEA,WAOM,OANIZ,KAAKO,OAAOM,KAAKuB,eAAiBpC,KAAKqC,cAAcrC,KAAKO,OAAOC,OAEnE8B,YAAW,WACTC,OAAOC,SAAS,EAA1B,mEACA,GAEaxC,KAAKO,OAAOC,QAGvB,YA1BF,WA0BA,2KACA,aADA,kBAGA,6BAHA,gBAGA,EAHA,EAGA,KACA,wBACA,UACA,oCACA,iJACA,4BARA,qDAkBA,sKACA,2BACA,EApBA,yBAqBA,mFACA,2CACA,8CACA,UACA,eAIA,2DA7BA,QAgCA,aAhCA,6DAkCEiC,QA5DF,WA6DIzC,KAAKiC,SAAU,EACfjC,KAAK0C,YAEPC,QAAS,OAAX,OAAW,CAAX,GACA,sCADA,CAEI1B,kBAFJ,SAEA,GACMjB,KAAKS,cAAgBmC,GAEvBhB,6BALJ,SAKA,GACM5B,KAAKkC,iBAAmBU,MChImV,I,wBCQ7WC,EAAY,eACd,EACA/C,EACA+B,GACA,EACA,KACA,KACA,MAIa,aAAAgB,E,2CCnBf,yBAAwjB,EAAG,G","file":"js/chunk-da8a441e.b0d8f4f8.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"dashboard-root-container lg:w-2/5 mx-auto\",class:{\n    'full-view': _vm.$route.name === 'Dashboard.Article.Detail',\n    ' h-screen' : _vm.$route.name === 'Dashboard.Search',\n    'header-colapsed' : !_vm.hideNavScroll,\n    'footer-visible': _vm.footerVisible,\n  },attrs:{\"data-route-name\":_vm.routeName}},[_c('transition',{attrs:{\"name\":\"fade\"}},[(_vm.$route.meta.showHeader)?_c('Header',{attrs:{\"user\":_vm.user,\"show-back\":_vm.$route.meta.showBack || false},on:{\"hideNavScroll\":_vm.hideNavScrollFunc}}):_vm._e()],1),(_vm.loading)?_c('div',{staticClass:\"text-center m-10 pt-10\"},[_c('img',{staticClass:\"mb-5 block mx-auto\",attrs:{\"src\":\"/img/loader.gif\",\"width\":\"40\",\"alt\":\"Loader Gif\"}}),_c('p',{staticClass:\"mx-auto leading-normal text-lg\"},[_vm._v(\" Fetching your information \")])]):(_vm.error)?_c('div',{staticClass:\"text-center h-screen flex items-center justify-center flex-col mx-4\"},[_c('p',{staticClass:\"mx-auto leading-normal text-lg\"},[_vm._v(\" \"+_vm._s(_vm.error)+\" \")]),_c('button',{staticClass:\"bg-brand-color button hover:bg-red-600 leading-normal mb-12 mt-5 py-2 w-1/2 rounded text-white\",on:{\"click\":function($event){$event.preventDefault();return _vm.logout($event)}}},[_vm._v(\" Logout \")])]):(Object.keys(_vm.user).length)?_c('transition',{attrs:{\"name\":\"fade\"}},[_c('keep-alive',{attrs:{\"exclude\":\"BannerDetail\"}},[_c('router-view',{staticClass:\"view main-cont\",class:{ 'mt-12 pt-3' : _vm.$route.meta.showHeader && _vm.$route.meta.showBack, 'footer-visible': _vm.footerVisible },attrs:{\"user\":_vm.user},on:{\"showHeaderShadowEvent\":_vm.showHeaderShadowEventHandler}})],1)],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <section\n    :data-route-name=\"routeName\"\n    class=\"dashboard-root-container lg:w-2/5 mx-auto\"\n    :class=\"{\n      'full-view': $route.name === 'Dashboard.Article.Detail',\n      ' h-screen' : $route.name === 'Dashboard.Search',\n      'header-colapsed' : !hideNavScroll,\n      'footer-visible': footerVisible,\n    }\"\n  >\n    <transition name=\"fade\">\n      <!-- <Header\n        v-if=\"$route.meta.showHeader\"\n        :user=\"user\"\n        :show-back=\"$route.meta.showBack || false\"\n        :class=\"{'no-shadow' : !showHeaderShadow}\"\n        @hideNavScroll=\"hideNavScrollFunc\"\n      /> -->\n      <Header\n        v-if=\"$route.meta.showHeader\"\n        :user=\"user\"\n        :show-back=\"$route.meta.showBack || false\"\n        @hideNavScroll=\"hideNavScrollFunc\"\n      />\n    </transition>\n\n    <div v-if=\"loading\" class=\"text-center m-10 pt-10\">\n      <img class=\"mb-5 block mx-auto\" src=\"/img/loader.gif\" width=\"40\" alt=\"Loader Gif\">\n      <p class=\"mx-auto leading-normal text-lg\">\n        Fetching your information\n      </p>\n    </div>\n    <div v-else-if=\"error\" class=\"text-center h-screen flex items-center justify-center flex-col mx-4\">\n      <p class=\"mx-auto leading-normal text-lg\">\n        {{ error }}\n      </p>\n      <button class=\"bg-brand-color button hover:bg-red-600 leading-normal mb-12 mt-5 py-2 w-1/2 rounded text-white\" @click.prevent=\"logout\">\n        Logout\n      </button>\n    </div>\n    <transition v-else-if=\"Object.keys(user).length\" name=\"fade\">\n      <keep-alive exclude=\"BannerDetail\">\n        <router-view\n          class=\"view main-cont\"\n          :user=\"user\"\n          :class=\"{ 'mt-12 pt-3' : $route.meta.showHeader && $route.meta.showBack, 'footer-visible': footerVisible }\"\n          @showHeaderShadowEvent=\"showHeaderShadowEventHandler\"\n        />\n      </keep-alive>\n    </transition>\n  </section>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex';\nimport CURRENT_USER from '@/graphql/users/users.gql';\n\nexport default {\n  name: 'DashboardRoot',\n  components: {\n    Header: () => import('@/components/header.vue'),\n  },\n  data() {\n    return {\n      error: '',\n      loading: false,\n      hideNavScroll: false,\n      footerVisible: false,\n      showHeaderShadow: false,\n    };\n  },\n  computed: {\n    ...mapGetters(['viewScrollPos', 'user', 'users']),\n    routeName() {\n      if (this.$route.meta.saveScrollPos && this.viewScrollPos[this.$route.name]) {\n        // eslint-disable-next-line\n        setTimeout(() => {\n          window.scrollTo(this.viewScrollPos[this.$route.name].x, this.viewScrollPos[this.$route.name].y);\n        }, 0);\n      }\n      return this.$route.name;\n    },\n  },\n  async beforeMount() {\n    this.loading = true;\n    try {\n      const { data } = await this.$apollo.query({ query: CURRENT_USER });\n      const user = (data.user && data.user[0]) || {};\n      this.user = user;\n      if (!Object.keys(user).length && user.isHidden) {\n        this.error = `You do not have access to the application or your access has been revoked.\n          Please contact the administrator.\\nCode: ${!Object.keys(user).length ? 0 : 1}`;\n      } else {\n        // this.$router.replace({ name: 'Dashboard.Tasks' });\n      }\n      // else if (user && parseInt(user.isAdmin, 10) && !parseInt(user.isVOC, 10) && !parseInt(user.isVOD, 10) && !this.$route.name.includes('Dashboard.Review')) {\n      //   this.$router.replace({ name: 'Dashboard.Review' });\n      // } else if (user && !parseInt(user.isAdmin, 10) && this.$route.name.includes('Dashboard.Review')) {\n      //   this.$router.replace({ name: 'Dashboard.Tasks' });\n      // } else ilpf (this.$route.name === 'DashboardRootPage') this.$router.replace({ name: 'Dashboard.Tasks' });\n    } catch (e) {\n      this.error = `You do not have access to the application or your access has been revoked. Please try to refresh or contact the administrator.\\nCode: ${e.message}`;\n      console.warn(e.message); // eslint-disable-line\n      const error = { ...e };\n      if (error.networkError && (error.networkError.statusCode === 401 || error.networkError.statusCode === 403)) {\n        this.$store.dispatch('addToastNotifications', {\n          text: 'Oops! You got logged out. Login again.',\n          timer: 4000,\n          type: 'error',\n        });\n\n        // Logout the user\n        this.$store.dispatch('logout', this.$store.state.route.fullPath);\n      }\n    }\n    this.loading = false;\n  },\n  mounted() {\n    this.loading = false;\n    this.getUsers();\n  },\n  methods: {\n    ...mapActions(['logout', 'getUsers']),\n    hideNavScrollFunc(e) {\n      this.hideNavScroll = e;\n    },\n    showHeaderShadowEventHandler(e) {\n      this.showHeaderShadow = e;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n@import '../../../styles/common/_variables.scss';\n\n.dashboard-root-container {\n  background: $pale-white;\n  min-height: 100vh;\n\n  &.footer-visible {\n    padding: 0 0 48px 0;\n  }\n  // padding-top: constant(safe-area-inset-top);\n  // padding-top: env(safe-area-inset-top);\n}\n\n.bottom-nav {\n  text-rendering: optimizeLegibility;\n  direction: ltr;\n  text-align: left;\n  margin: 0;\n  height: 48px;\n  max-height: 48px;\n  background: rgba(0, 0, 0, .8);\n  user-select: none;\n  backdrop-filter: saturate(180%) blur(20px);\n\n  a {\n    color: #fff;\n  }\n\n  &.light {\n    background: $white_90;\n    box-shadow: 0 15px 30px 0 rgba(0, 0, 0, .11), 0 5px 15px 0 rgba(0, 0, 0, .08);\n\n    a {\n      color: #8795a1;\n\n      &.router-link-active {\n        color: #FF545E;\n      }\n    }\n  }\n}\n\n.ios .bottom-nav {\n  &.light {\n    background: $white_85;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dashboard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dashboard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./dashboard.vue?vue&type=template&id=25d606bd&\"\nimport script from \"./dashboard.vue?vue&type=script&lang=js&\"\nexport * from \"./dashboard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./dashboard.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dashboard.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dashboard.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}
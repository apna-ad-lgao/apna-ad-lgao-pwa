(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-19a7f3e6"],{"07ac":function(t,e,a){var n=a("23e7"),r=a("6f53").values;n({target:"Object",stat:!0},{values:function(t){return r(t)}})},2909:function(t,e,a){"use strict";a.d(e,"a",(function(){return o}));var n=a("6b75");function r(t){if(Array.isArray(t))return Object(n["a"])(t)}a("a4d3"),a("e01a"),a("d28b"),a("a630"),a("e260"),a("d3b7"),a("3ca3"),a("ddb0");function s(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}var i=a("06c5");function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(t){return r(t)||s(t)||Object(i["a"])(t)||c()}},"2b45":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"dashboard-task-feedback-page bg-white h-min-screen"},[t.$apollo.queries.queryResult.loading?a("div",{staticClass:"text-center m-10"},[a("img",{staticClass:"mb-5 block mx-auto",attrs:{src:"/img/loader.gif",width:"40",alt:"Loader Gif"}}),a("p",{staticClass:"mx-auto leading-normal text-lg"},[t._v(" Fetching company data information... ")])]):a("div",[a("h4",{staticClass:"capitalize fixed letter-spacing-05 my-3 text-gray-800 top-0 z-50 pin-x-center"},[t._v(" "+t._s(t.company.name)+" ")]),a("h1",{staticClass:"letter-spacing-05 text-xl mb-4 mx-5"},[t._v(" Trendline for last 7 inputs ")]),a("bar-chart",{ref:"chartComp",staticClass:"pl-1",attrs:{height:200,"chart-data":JSON.parse(JSON.stringify(t.chartData)),options:t.chartOptions}}),a("section",{staticClass:"salutation-cont my-6 mx-6"},[a("h1",{staticClass:"letter-spacing-05 text-xl mt-10 flex justify-between items-center"},[a("span",[t._v(" Historical data "),t.noFeedbacksForToday?a("p",{staticClass:"text-base text-yellow-600"},[t._v(" No feedbacks provided for today ")]):t._e()])]),a("section",{staticClass:"text-sm pb-1 mt-2"},[t._m(0),t._l(t.company.feedbacks,(function(e,n){return a("div",{key:e.created+n,staticClass:"\n            border-b\n            border-gray-200\n            py-3\n            w-full\n            px-1\n            block\n            flex\n            items-center\n            leading-normal\n            justify-between\n            pointer\n            feedback-row\n          ",class:{"voc-row":e.isVOC,"vod-row":e.isVOD},on:{click:function(a){return a.preventDefault(),t.openFeedbackModal(e)}}},[a("p",{staticClass:"flex-1 text-left no-text-wrap"},[t._v(" "+t._s(t._f("dateFormat")(e.created))+" ")]),a("p",{staticClass:"flex-1 px-3 text-left no-text-wrap"},[t._l(e.rating,(function(t){return a("span",{key:t,staticClass:"far text-gray-500 fa-star text-sm",class:[e.rating<=3?"fas text-genpact-pink":"fas text-green-500"]})})),t._l(5-e.rating,(function(t){return a("span",{key:t+5,staticClass:"far text-gray-500 fa-star text-sm"})}))],2),a("div",{staticClass:"flex-2 text-left"},t._l(e.keywords,(function(n,r){return a("p",{key:n,staticClass:"inline-block text-sm rounded-lg text-gray-600"},[t._v(" "+t._s(n)),r+1<e.keywords.length?a("span",[t._v(", ")]):t._e()])})),0),a("i",{staticClass:"fa-chevron-right fas relative text-gray-500",staticStyle:{top:"-1px"}})])}))],2)]),a("modal",{ref:"feedback-modal-comp",attrs:{"show-close-btn":!0,"modal-content-cont-height":"",name:"comments-modal"}},[a("section",{staticClass:"modal-body flex flex-col align-center justify-center py-4 px-8"},[a("div",{staticClass:"form-body"},[a("ul",{staticClass:"list-reset"},["Dashboard.Review.Company.Detail"==t.$route.name?a("li",{staticClass:"border-b py-2 relative"},[a("h4",{staticClass:"mt-1 text-xs text-grey-darker"},[t._v(" "+t._s(t.selectedFeedbackObj.isVOC?"GRM Name":"GOL Name")+" ")]),a("p",{staticClass:"pt-1 text-grey-darkest"},[t._v(" "+t._s(t.selectedFeedbackObj.firstName)+" "+t._s(t.selectedFeedbackObj.lastName)+" ")])]):t._e(),"Dashboard.Review.Company.Detail"==t.$route.name?a("li",{staticClass:"border-b py-2 relative"},[a("h4",{staticClass:"mt-1 text-xs text-grey-darker"},[t._v(" Email Address ")]),a("p",{staticClass:"pt-1 text-grey-darkest"},[t._v(" "+t._s(t.selectedFeedbackObj.ohrid)+"@genpact.com ")]),t.isApp?a("button",{staticClass:"absolute fa-paper-plane fas p-2 pl-8 right-0 inset-y-0 text-gray-600 block",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.openOutlook(e)}}}):t._e()]):t._e(),a("li",{staticClass:"border-b py-2 relative"},[a("h4",{staticClass:"mt-1 text-xs text-grey-darker"},[t._v(" Dated ")]),a("p",{staticClass:"pt-1 text-grey-darkest"},[t._v(" "+t._s(t._f("dateFormat")(t.selectedFeedbackObj.created))+" ")])]),t.selectedFeedbackObj.rating?a("li",{staticClass:"border-b py-2 relative"},[a("h4",{staticClass:"mt-1 text-xs text-grey-darker"},[t._v(" Rating ")]),a("p",{staticClass:"pt-1 text-grey-darkest"},[t._l(t.selectedFeedbackObj.rating,(function(e){return a("span",{key:e,staticClass:"far text-gray-500 fa-star text-lg",class:[t.selectedFeedbackObj.rating<=3?"fas text-genpact-pink":"fas text-green-500"]})})),t._l(5-t.selectedFeedbackObj.rating,(function(t){return a("span",{key:t+5,staticClass:"far text-gray-500 fa-star text-lg"})}))],2)]):t._e(),a("li",{staticClass:"border-b py-2 relative"},[a("h4",{staticClass:"mt-1 text-xs text-grey-darker"},[t._v(" Issues ")]),a("p",{staticClass:"pt-1 text-grey-darkest"},t._l(t.selectedFeedbackObj.keywords,(function(e,n){return a("span",{key:e,staticClass:"inline-block"},[t._v(" "+t._s(e)),n+1<t.selectedFeedbackObj.keywords.length?a("span",[t._v(", ")]):t._e()])})),0)]),a("li",{staticClass:"py-2 relative"},[a("h4",{staticClass:"mt-1 text-xs text-grey-darker"},[t._v(" Action Plan ")]),a("p",{staticClass:"pt-1 text-grey-darkest"},[t._v(" "+t._s(t.selectedFeedbackObj.actionPlan)+" ")])])])])])])],1)])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"\n          border-b\n          border-gray-200\n          py-2\n          px-1\n          block\n          flex\n          items-center\n          leading-normal\n          text-center\n          text-gray-600\n          justify-between"},[a("p",{staticClass:"flex-1 mr-2 text-left"},[t._v(" Date ")]),a("p",{staticClass:"flex-1 px-2 text-left"},[t._v(" Rating ")]),a("div",{staticClass:"flex-2 text-left"},[t._v(" Category ")]),a("p")])}],s=(a("4de4"),a("4160"),a("d81d"),a("fb6a"),a("b0c0"),a("b64b"),a("d3b7"),a("07ac"),a("ac1f"),a("1276"),a("159b"),a("2909")),i=a("5530"),c=a("8785"),o=a("2f62"),l=a("9530"),d=a.n(l),p=a("5a0c"),f=a.n(p),u=a("9029");function b(){var t=Object(c["a"])(["query Company($companyVerticalId: Int) {\n          company(companyVerticalId: $companyVerticalId) {\n            id\n            name\n            type\n            companyVerticalId\n          }\n          feedbacks: companyFeedback(companyVertical: $companyVerticalId) {\n            id\n            actionPlan\n            rating\n            keywords\n            created\n          }\n        }"]);return b=function(){return t},t}function y(){var t=Object(c["a"])(["query Company($companyVerticalId: Int) {\n            company(companyVerticalId: $companyVerticalId) {\n              id\n              name\n              type\n              companyVerticalId\n            }\n            feedbacks: companyFeedbacksAdmin(companyVertical: $companyVerticalId) {\n              actionPlan\n              firstName\n              lastName\n              keywords\n              company\n              isVOC\n              rating\n              isVOD\n              vertical\n              created\n              companyVertical\n              ohrid\n            }\n          }"]);return y=function(){return t},t}var m=!1,h={name:"BannerDetail",components:{BarChart:function(){return a.e("chunk-14481f9a").then(a.bind(null,"5416"))},Modal:function(){return a.e("chunk-52bc745e").then(a.bind(null,"aff5"))}},props:{user:{type:Object,default:function(){}}},apollo:{queryResult:{query:function(){return"Dashboard.Review.Company.Detail"===this.$route.name?d()(y()):d()(b())},variables:function(){return{companyVerticalId:parseInt(this.$route.params.companyVerticalId,10)}},update:function(t){if("undefined"===this.$route.params.companyVerticalId)return[];var e=t.company,a=t.feedbacks,n=a.map((function(t){return Object(i["a"])({},t,{keywords:t.keywords?t.keywords.split(","):["---"],created:new Date(parseInt(t.created,10)),displayDate:f()(new Date(parseInt(t.created,10))).format("MMM, D"),chartingDate:new Date(parseInt(t.created,10)).toISOString()})})),r=n.filter((function(t){return t.isVOC})),c=n.filter((function(t){return t.isVOD})),o=[];if("Dashboard.Review.Company.Detail"===this.$route.name){var l={};r.forEach((function(t){l[t.displayDate]?(l[t.displayDate].vocIndex+=1,l[t.displayDate].voc+=t.rating):l[t.displayDate]={voc:t.rating,vocIndex:1},l[t.displayDate].chartingDate=t.chartingDate})),c.forEach((function(t){l[t.displayDate]?(l[t.displayDate].vodIndex=l[t.displayDate].vodIndex?l[t.displayDate].vodIndex+1:1,l[t.displayDate].vod=l[t.displayDate].vod?l[t.displayDate].vod+t.rating:t.rating):l[t.displayDate]={vod:t.rating,vodIndex:1},l[t.displayDate].chartingDate=t.chartingDate}));var d=[],p=[];o=Object(s["a"])(Object.keys(l)).sort((function(t,e){try{return l[t].chartingDate<l[e].chartingDate?-1:l[t].chartingDate>l[e].chartingDate?1:0}catch(a){return console.warn("error caught: ",a),0}})),o.forEach((function(t){l[t].voc?d.push(l[t].voc/l[t].vocIndex):d.push(0),l[t].vod?p.push(l[t].vod/l[t].vodIndex):p.push(0)}));var u=Object.values(d).length,b=Object.values(p).length;console.log("chart data before: ".concat(JSON.stringify(this.chartData))),this.chartData.datasets[0].data=u>7?Object.values(d).slice(u-7,u):Object.values(d),this.chartData.datasets[1].data=b>7?Object.values(p).slice(b-7,b):Object.values(p),console.log("chart data after: ".concat(JSON.stringify(this.chartData)));try{this.chartOptions.legend.display=!0}catch(g){console.warn(g.message)}}else{var y=n.map((function(t){return t.rating}));o=n.map((function(t){return f()(t.created).format("MMM, D")})),this.chartData.datasets[0].data=o.length>7?y.slice(0,7):y,this.chartData.datasets[1]&&(this.chartData.datasets[1].hidden=!0)}var m=n.filter((function(t){return f()(t.created).format("MMM, D")===f()(new Date).format("MMM, D")}));m.length||(this.noFeedbacksForToday=!0);var h=o.length;return this.chartData.labels=h>7?o.slice(h-7,h):o,Object(i["a"])({},e[0],{feedbacks:n})}}},data:function(){return{noFeedbacksForToday:!1,filterVod:!1,isApp:m,selectedFeedbackObj:{},limitPosition:20,scrolled:!1,lastPosition:0,chartData:{responsive:!0,labels:[],datasets:[{data:[],label:"VOS",borderColor:"#FF545E",fill:!1,type:"line"},{data:[1,2,3,4,5,3,1],label:"VOD",borderColor:"#00ADCF",fill:!1,type:"line"}]},chartOptions:{legend:{display:!1},scales:{xAxes:[{barPercentage:.4,gridLines:{color:"#f7fafc"},ticks:{autoSkip:!0,source:"data",fontFamily:"'Calibri', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen-Sans, Ubuntu, Cantarell, 'Helvetica Neue', Helvetica, Arial, sans-serif",padding:0,fontColor:"#718096",fontSize:12,fontWeight:900}}],yAxes:[{gridLines:{color:"#edf2f7",zeroLineWidth:0,drawBorder:!0,drawOnChartArea:!0,drawTicks:!1},ticks:{fontFamily:"'Calibri', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen-Sans, Ubuntu, Cantarell, 'Helvetica Neue', Helvetica, Arial, sans-serif",padding:12,beginAtZero:!0,stepSize:1,fontColor:"#718096",fontSize:12,fontWeight:900}}]}}}},computed:Object(i["a"])({},Object(o["c"])(["request"]),{company:function(){if(this.queryResult){var t=this.queryResult.feedbacks;return Object(i["a"])({},this.queryResult,{feedbacks:t.sort((function(t,e){return t.created>e.created?-1:e.created<t.created?1:0}))})}return{}}}),methods:{openFeedbackModal:function(t){this.selectedFeedbackObj={},this.$refs["feedback-modal-comp"].$data.isOpen=!0,this.selectedFeedbackObj=Object(i["a"])({},t)},openOutlook:function(){window.cordova&&window.cordova.plugins.email&&cordova.plugins.email.open({to:"".concat(this.selectedFeedbackObj.ohrid,"@genpact.com"),app:u["isAndroid"]?"com.microsoft.office.outlook":"outlook"})}}},g=h,v=(a("472a"),a("2877")),x=Object(v["a"])(g,n,r,!1,null,"0462b0b2",null);e["default"]=x.exports},"472a":function(t,e,a){"use strict";var n=a("5652"),r=a.n(n);r.a},5652:function(t,e,a){},"6f53":function(t,e,a){var n=a("83ab"),r=a("df75"),s=a("fc6a"),i=a("d1e7").f,c=function(t){return function(e){var a,c=s(e),o=r(c),l=o.length,d=0,p=[];while(l>d)a=o[d++],n&&!i.call(c,a)||p.push(t?[a,c[a]]:c[a]);return p}};t.exports={entries:c(!0),values:c(!1)}},8785:function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));a("fb6a"),a("dca8");function n(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}}}]);
//# sourceMappingURL=chunk-19a7f3e6.a286c803.js.map
{"version":3,"sources":["webpack:///./src/views/mobile/dashboard-pages/add-user.vue?867c","webpack:///src/views/mobile/dashboard-pages/add-user.vue","webpack:///./src/views/mobile/dashboard-pages/add-user.vue?9733","webpack:///./src/views/mobile/dashboard-pages/add-user.vue?03f7","webpack:///./src/views/mobile/dashboard-pages/add-user.vue?9858"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","ref","attrs","on","$event","handleFileUpload","submitFile","newUserAdded","length","_l","n","key","ohrid","_s","firstname","lastname","_e","errorInAddingUser","e","user","voc","vod","excelSheetError","staticRenderFns","name","data","file","computed","methods","$refs","files","component"],"mappings":"gJAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,UAAU,CAACE,YAAY,8CAA8C,CAACF,EAAG,MAAMA,EAAG,QAAQ,CAACJ,EAAIO,GAAG,UAAUH,EAAG,QAAQ,CAACI,IAAI,OAAOC,MAAM,CAAC,GAAK,OAAO,KAAO,QAAQC,GAAG,CAAC,OAAS,SAASC,GAAQ,OAAOX,EAAIY,yBAAyBR,EAAG,SAAS,CAACM,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOX,EAAIa,gBAAgB,CAACb,EAAIO,GAAG,cAAcH,EAAG,MAAM,CAACA,EAAG,MAAOJ,EAAIc,cAAgBd,EAAIc,aAAaC,QAAUf,EAAIc,aAAaC,OAAS,EAAGX,EAAG,MAAM,CAACA,EAAG,KAAK,CAACJ,EAAIO,GAAG,oBAAoBH,EAAG,KAAKJ,EAAIgB,GAAIhB,EAAgB,cAAE,SAASiB,GAAG,OAAOb,EAAG,KAAK,CAACc,IAAID,EAAEE,OAAO,CAACnB,EAAIO,GAAG,IAAIP,EAAIoB,GAAGH,EAAEE,OAAO,OAAOnB,EAAIoB,GAAGH,EAAEI,WAAW,OAAOrB,EAAIoB,GAAGH,EAAEK,UAAU,UAAS,KAAKtB,EAAIuB,KAAKnB,EAAG,MAAOJ,EAAqB,kBAAEI,EAAG,MAAM,CAAEJ,EAAIwB,kBAAkBT,QAAUf,EAAIwB,kBAAkBT,OAAS,EAAGX,EAAG,MAAM,CAACA,EAAG,KAAK,CAACJ,EAAIO,GAAG,4BAA4BH,EAAG,KAAKJ,EAAIgB,GAAIhB,EAAqB,mBAAE,SAASyB,GAAG,OAAOrB,EAAG,KAAK,CAACc,IAAIO,EAAEN,OAAO,CAACnB,EAAIO,GAAG,IAAIP,EAAIoB,GAAGK,EAAEC,KAAKP,OAAO,OAAOnB,EAAIoB,GAAGK,EAAEC,KAAKL,WAAW,OAAOrB,EAAIoB,GAAGK,EAAEC,KAAKJ,UAAU,OAAOtB,EAAIoB,GAAGK,EAAEC,KAAKC,KAAK,OAAO3B,EAAIoB,GAAGK,EAAEC,KAAKE,KAAK,KAAqC,OAA9BH,EAAEC,KAAKC,KAAOF,EAAEC,KAAKE,KAAcxB,EAAG,IAAI,CAACJ,EAAIO,GAAG,sCAAsCP,EAAIuB,KAAKnB,EAAG,MAAQqB,EAAEC,KAAKL,WAAaI,EAAEC,KAAKL,UAAUN,QAAU,GAAOU,EAAEC,KAAKJ,UAAYG,EAAEC,KAAKJ,SAASP,QAAU,EAAIX,EAAG,IAAI,CAACJ,EAAIO,GAAG,oDAAoDP,EAAIuB,UAAS,KAAKvB,EAAIuB,OAAOvB,EAAIuB,KAAKnB,EAAG,MAAM,CAACJ,EAAIO,GAAG,IAAIP,EAAIoB,GAAGnB,KAAK4B,iBAAiB,YAC/9CC,EAAkB,G,6CC+CtB,GACEC,KAAM,UACNC,KAFF,WAGI,MAAO,CACLC,KAAM,GACNnB,aAAc,GAEdU,kBAAmB,GACnBK,gBAAiB,KAGrBK,SAAU,GACVC,QAAS,CACPvB,iBADJ,WAEMX,KAAKgC,KAAOhC,KAAKmC,MAAMH,KAAKI,MAAM,IAEpC,WAJJ,WAIA,uKACA,kBAEA,uBACA,qBACA,eACA,wBACA,0BAPA,kBASA,SACA,sCACA,EACA,CACA,SACA,wCAdA,cASA,EATA,OAkBA,qBACA,kBACA,iDACA,0EACA,sCACA,2CAEA,qFACA,2CACA,qDAEA,yEACA,gCACA,iDAEA,0CAjCA,kBAmCA,yDAnCA,8DAqCA,mBArCA,+DChEgX,I,wBCQ5WC,EAAY,eACd,EACAvC,EACA+B,GACA,EACA,KACA,WACA,MAIa,aAAAQ,E,2CCnBf,yBAA+kB,EAAG","file":"js/chunk-40d8fae2.1853ac64.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"dashboard-reviewer-page h-min-screen mt-12\"},[_c('br'),_c('label',[_vm._v(\" File \"),_c('input',{ref:\"file\",attrs:{\"id\":\"file\",\"type\":\"file\"},on:{\"change\":function($event){return _vm.handleFileUpload()}}})]),_c('button',{on:{\"click\":function($event){return _vm.submitFile()}}},[_vm._v(\" Upload \")]),_c('div',[_c('br'),(_vm.newUserAdded && _vm.newUserAdded.length && _vm.newUserAdded.length > 0)?_c('div',[_c('h4',[_vm._v(\"New User Added\")]),_c('ul',_vm._l((_vm.newUserAdded),function(n){return _c('li',{key:n.ohrid},[_vm._v(\" \"+_vm._s(n.ohrid)+\" -- \"+_vm._s(n.firstname)+\" -- \"+_vm._s(n.lastname)+\" \")])}),0)]):_vm._e(),_c('br'),(_vm.errorInAddingUser)?_c('div',[(_vm.errorInAddingUser.length && _vm.errorInAddingUser.length > 0)?_c('div',[_c('h4',[_vm._v(\"Error in adding users!\")]),_c('ul',_vm._l((_vm.errorInAddingUser),function(e){return _c('li',{key:e.ohrid},[_vm._v(\" \"+_vm._s(e.user.ohrid)+\" -- \"+_vm._s(e.user.firstname)+\" -- \"+_vm._s(e.user.lastname)+\" -- \"+_vm._s(e.user.voc)+\" -- \"+_vm._s(e.user.vod)+\" \"),((e.user.voc && e.user.vod) === '1')?_c('p',[_vm._v(\" voc & vod cannot be 1 for both \")]):_vm._e(),_c('br'),((e.user.firstname && e.user.firstname.length <= 1) && (e.user.lastname && e.user.lastname.length <= 1))?_c('p',[_vm._v(\" name length must be between 2-30 characters. \")]):_vm._e()])}),0)]):_vm._e()]):_vm._e(),_c('div',[_vm._v(\" \"+_vm._s(this.excelSheetError)+\" \")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <section class=\"dashboard-reviewer-page h-min-screen mt-12\">\n    <br>\n    <label>\n      File\n      <input id=\"file\" ref=\"file\" type=\"file\" @change=\"handleFileUpload()\">\n    </label>\n    <button @click=\"submitFile()\">\n      Upload\n    </button>\n    <div>\n      <br>\n      <div v-if=\"newUserAdded && newUserAdded.length && newUserAdded.length > 0\">\n        <h4>New User Added</h4>\n        <ul>\n          <li v-for=\"n in newUserAdded\" :key=\"n.ohrid\">\n            {{ n.ohrid }} -- {{ n.firstname }} -- {{ n.lastname }}\n          </li>\n        </ul>\n      </div>\n      <br>\n      <div v-if=\"errorInAddingUser\">\n        <div v-if=\"errorInAddingUser.length && errorInAddingUser.length > 0\">\n          <h4>Error in adding users!</h4>\n          <ul>\n            <li v-for=\"e in errorInAddingUser\" :key=\"e.ohrid\">\n              {{ e.user.ohrid }} -- {{ e.user.firstname }} -- {{ e.user.lastname }} -- {{ e.user.voc }} -- {{ e.user.vod }}\n              <p v-if=\"(e.user.voc && e.user.vod) === '1'\">\n                voc & vod cannot be 1 for both\n              </p>\n              <br>\n              <p v-if=\"(e.user.firstname && e.user.firstname.length <= 1) && (e.user.lastname && e.user.lastname.length <= 1)\">\n                name length must be between 2-30 characters.\n              </p>\n            </li>\n          </ul>\n        </div>\n      </div>\n      <div>\n        {{ this.excelSheetError }}\n      </div>\n    </div>\n  </section>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  name: 'AddUser',\n  data() {\n    return {\n      file: '',\n      newUserAdded: [],\n      // userAlreadyExists: [],\n      errorInAddingUser: [],\n      excelSheetError: '',\n    };\n  },\n  computed: {},\n  methods: {\n    handleFileUpload() {\n      this.file = this.$refs.file.files[0];\n    },\n    async submitFile() {\n      this.newUserAdded = [];\n      // this.userAlreadyExists = [];\n      this.errorInAddingUser = [];\n      this.excelSheetError = '';\n      const formData = new FormData();\n      formData.append('file', this.file);\n      console.log('formdata', formData);\n      try {\n        const response = await axios.post(\n          'http://localhost:3000/api/v1/upload',\n          formData,\n          {\n            headers: {\n              'Content-Type': 'multipart/form-data',\n            },\n          },\n        );\n        console.log('res', response);\n        if (response.data.code === 0) {\n          console.log(`result is: ${response.data.result}`);\n          console.log(`new user added: ${response.data.result.newUserAdded.length}`);\n          if (response.data.result.newUserAdded.length > 0) {\n            this.newUserAdded = response.data.result.newUserAdded;\n          }\n          console.log(`error in adding user: ${response.data.result.errorInAddingUser.length}`);\n          if (response.data.result.errorInAddingUser.length > 0) {\n            this.errorInAddingUser = response.data.result.errorInAddingUser;\n          }\n          console.log(`excel sheet error: ${response.data.result.excelSheetError}`);\n          if (response.data.result.excelSheetError) {\n            this.excelSheetError = response.data.result.excelSheetError;\n          }\n          document.getElementById('file').value = '';\n        }\n        return [this.newUserAdded, this.userAlreadyExist, this.errorInAddingUser];\n      } catch (error) {\n        return console.log(error);\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.stats-grid {\n  display: grid;\n  grid-gap: 10px;\n  grid-auto-rows: minmax(110px, auto);\n  grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add-user.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add-user.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./add-user.vue?vue&type=template&id=63c1e368&scoped=true&\"\nimport script from \"./add-user.vue?vue&type=script&lang=js&\"\nexport * from \"./add-user.vue?vue&type=script&lang=js&\"\nimport style0 from \"./add-user.vue?vue&type=style&index=0&id=63c1e368&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"63c1e368\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add-user.vue?vue&type=style&index=0&id=63c1e368&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add-user.vue?vue&type=style&index=0&id=63c1e368&lang=scss&scoped=true&\""],"sourceRoot":""}
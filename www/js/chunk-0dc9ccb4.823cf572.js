(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0dc9ccb4"],{bd75:function(e,t){var a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"addCompany"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"type"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"vertical"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addCompany"},arguments:[{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"Variable",name:{kind:"Name",value:"type"}}},{kind:"Argument",name:{kind:"Name",value:"vertical"},value:{kind:"Variable",name:{kind:"Name",value:"vertical"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"companyVerticalId"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:176}};a.loc.source={body:"mutation addCompany($name: String!, $type: String!, $vertical: Int!) {\n  addCompany(name: $name, type: $type, vertical: $vertical) {\n    id\n    name\n    companyVerticalId\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var a=e.type;"NamedType"===a.kind&&t.add(a.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};function r(e,t){for(var a=0;a<e.definitions.length;a++){var n=e.definitions[a];if(n.name&&n.name.value==t)return n}}function o(e,t){var a={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(a.loc=e.loc);var n=i[t]||new Set,o=new Set,l=new Set;n.forEach((function(e){l.add(e)}));while(l.size>0){var s=l;l=new Set,s.forEach((function(e){if(!o.has(e)){o.add(e);var t=i[e]||new Set;t.forEach((function(e){l.add(e)}))}}))}return o.forEach((function(t){var n=r(e,t);n&&a.definitions.push(n)})),a}(function(){a.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}}))})(),e.exports=a,e.exports["addCompany"]=o(a,"addCompany")},c95a:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"dashboard-user-edit-page h-min-screen bg-white p-5 mt-12"},[a("h1",{staticClass:"text-xl font-bold text-gray-700 mb-4"},[e._v(" Add Company ")]),a("form",[a("label",{staticClass:"block font-bold letter-spacing-05 mt-3 mb-1 ml-1 text-gray-600 text-xs uppercase",attrs:{for:"companyName"}},[e._v("Company Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.companyName,expression:"companyName"}],staticClass:"block appearance-none w-full bg-gray-100 border border-gray-400 hover:border-gray-500 px-4 py-2 rounded leading-tight focus:outline-none",attrs:{id:"company",type:"text",placeholder:"Ex: x pvt. ltd."},domProps:{value:e.companyName},on:{input:function(t){t.target.composing||(e.companyName=t.target.value)}}}),a("div",{staticClass:"relative"},[a("label",{staticClass:"block font-bold letter-spacing-05 mt-3 mb-1 ml-1 text-gray-600 text-grey-darkest text-xs uppercase",attrs:{for:"user-role-select"}},[e._v(" Type ")]),a("div",{staticClass:"relative"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.type,expression:"type"}],ref:"user-role-select",staticClass:"block appearance-none w-full bg-gray-100 border border-gray-400\n          hover:border-gray-500 px-4 py-2 pr-8 rounded leading-tight focus:outline-none",attrs:{id:"user-role-select"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.type=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}},[e._v(" --- ")]),a("option",{attrs:{value:"Champion"}},[e._v(" Champion ")]),a("option",{attrs:{value:"Accelerator"}},[e._v(" Accelerator ")]),a("option",{attrs:{value:"Trailblazer"}},[e._v(" Trailblazer ")])]),a("div",{staticClass:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-600"},[a("svg",{staticClass:"fill-current h-4 w-4",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"}},[a("path",{attrs:{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"}})])])])]),a("div",{staticClass:"relative"},[a("label",{staticClass:"block font-bold letter-spacing-05 mt-3 mb-1 ml-1 text-gray-600 text-grey-darkest text-xs uppercase",attrs:{for:"user-role-select"}},[e._v(" Company Vertical ")]),a("div",{staticClass:"relative"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.vertical,expression:"vertical"}],ref:"user-role-select",staticClass:"block appearance-none w-full bg-gray-100 border border-gray-400\n          hover:border-gray-500 px-4 py-2 pr-8 rounded leading-tight focus:outline-none",attrs:{id:"user-role-select"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.vertical=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}},[e._v(" --- ")]),e._l(e.verticalData,(function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v(" "+e._s(t.name)+" ")])}))],2),a("div",{staticClass:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-600"},[a("svg",{staticClass:"fill-current h-4 w-4",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"}},[a("path",{attrs:{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"}})])])])]),a("div",{staticClass:"cta-cont text-right mt-8"},[a("button",{staticClass:"border-2 rounded px-4 py-1 w-24",class:"border-green-400 text-gray-500 w-24",on:{click:e.saveCompany}},[a("span",[e._v("Save")])]),a("button",{staticClass:"border-2 rounded px-4 py-1 w-24",class:"border-red-400 text-red-500",on:{click:e.back}},[e._v(" Cancel ")])])])])},i=[],r=(a("99af"),a("b0c0"),a("96cf"),a("1da1")),o=a("e57c"),l=a.n(o),s=a("bd75"),c=a.n(s),d={name:"AddnewCompany",data:function(){return{companyName:"",type:"",vertical:"",verticalData:[],isEditMode:!1,validationErrors:[]}},computed:{saveButtonDisable:function(){return"admin"!==this.userRole&&(""===this.userRole||(""===this.selectedAccount||(""===this.selectedVertical||(this.userRole,!1))))}},watch:{$route:function(e,t){"Dashboard.Admin"===t.name&&"Dashboard.User.Edit"===e.name&&(this.renderReady=!1,this.onAccountSelect())}},deactivated:function(){this.userOhrid="",this.userFirstName=""},mounted:function(){this.onAccountSelect()},methods:{saveCompany:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,n,i,r,o,l,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,e.companyName||e.$store.dispatch("addToastNotifications",{text:"Please Fill Company Name ! ",timer:4e3,type:"error"}),e.type||e.$store.dispatch("addToastNotifications",{text:"Please Select Type Of Company ! ",timer:4e3,type:"error"}),!e.companyName||!e.type){t.next=20;break}return a=e.companyName,n=e.type,i=e.vertical,console.log(e.vertical),t.next=10,e.$apollo.mutate({mutation:c.a,variables:{name:a,type:n,vertical:i}});case 10:return r=t.sent,o=r.data,l=o.addCompany.id,s=o.addCompany.companyVerticalId,t.next=16,e.$store.dispatch("addToastNotifications",{text:"Company added succesfully!",timer:4e3,type:"success"});case 16:e.companyName="",e.type="",e.vertical="",e.$router.push({path:"/dashboard/admin/company/edit/".concat(l,"/").concat(s)});case 20:t.next=25;break;case 22:t.prev=22,t.t0=t["catch"](0),e.$store.dispatch("addToastNotifications",{text:"".concat(t.t0.message),timer:4e3,type:"error"});case 25:case"end":return t.stop()}}),t,null,[[0,22]])})))()},onAccountSelect:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$apollo.query({query:l.a,variables:{}});case 3:a=t.sent,n=a.data,e.verticalData=n.fetchAllVerticals,console.log("TCL: onAccountSelect -> this.verticalData",e.verticalData),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log("vertical error -> ",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},back:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$router.go(-1);case 1:case"end":return t.stop()}}),t)})))()}}},u=d,m=a("2877"),p=Object(m["a"])(u,n,i,!1,null,null,null);t["default"]=p.exports},e57c:function(e,t){var a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"fetchAllVerticals"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:51}};a.loc.source={body:"query {\n  fetchAllVerticals {\n    id\n    name\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var a=e.type;"NamedType"===a.kind&&t.add(a.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};(function(){a.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}}))})(),e.exports=a}}]);
//# sourceMappingURL=chunk-0dc9ccb4.823cf572.js.map